{"ast":null,"code":"import * as d3 from 'd3';\nlet hoverTimeout;\nexport const addMouseEvents = g => {\n  g.selectAll('rect').each(function () {\n    const rect = d3.select(this);\n    const originalSize = {\n      width: +rect.attr('width'),\n      height: +rect.attr('height')\n    };\n    const originalPos = {\n      x: +rect.attr('x'),\n      y: +rect.attr('y')\n    };\n    rect.on('mouseover', function () {\n      if (rect.attr('id') === 'rect1') return;\n      hoverTimeout = setTimeout(() => {\n        showInfoPanel(rect);\n      }, 1500);\n      rect.attr('fill-opacity', 1).attr('stroke-opacity', 1).transition().duration(200).attr('width', originalSize.width * 2).attr('height', originalSize.height * 2).attr('x', originalPos.x - originalSize.width / 2).attr('y', originalPos.y - originalSize.height / 2);\n    }).on('mouseout', function () {\n      if (rect.attr('id') === 'rect1') return;\n      clearTimeout(hoverTimeout);\n      hideInfoPanel();\n      rect.transition().duration(200).attr('width', originalSize.width).attr('height', originalSize.height).attr('x', originalPos.x).attr('y', originalPos.y).attr('fill-opacity', 0.8);\n    });\n  });\n};\nconst showInfoPanel = rect => {\n  const infoPanel = d3.select('#info-panel');\n  const systemId = rect.attr('id');\n  const systemName = `System ${systemId}`;\n  const planetList = 'PlanetA, PlanetB, PlanetC';\n  infoPanel.style('display', 'block').style('left', `${d3.event.pageX + 10}px`).style('top', `${d3.event.pageY + 10}px`).html(`\n      <strong>System name:</strong> ${systemName}<br/>\n      <strong>Planet list:</strong> ${planetList}\n    `);\n};\nconst hideInfoPanel = () => {\n  d3.select('#info-panel').style('display', 'none');\n};","map":{"version":3,"names":["d3","hoverTimeout","addMouseEvents","g","selectAll","each","rect","select","originalSize","width","attr","height","originalPos","x","y","on","setTimeout","showInfoPanel","transition","duration","clearTimeout","hideInfoPanel","infoPanel","systemId","systemName","planetList","style","event","pageX","pageY","html"],"sources":["/home/admin_user/PycharmProjects/StarMap_PrUn/prun-universe-map/src/utils/svgUtils.js"],"sourcesContent":["import * as d3 from 'd3';\n\nlet hoverTimeout;\n\nexport const addMouseEvents = (g) => {\n  g.selectAll('rect').each(function () {\n    const rect = d3.select(this);\n    const originalSize = { width: +rect.attr('width'), height: +rect.attr('height') };\n    const originalPos = { x: +rect.attr('x'), y: +rect.attr('y') };\n\n    rect.on('mouseover', function () {\n      if (rect.attr('id') === 'rect1') return;\n\n      hoverTimeout = setTimeout(() => {\n        showInfoPanel(rect);\n      }, 1500);\n\n      rect\n        .attr('fill-opacity', 1)\n        .attr('stroke-opacity', 1)\n        .transition()\n        .duration(200)\n        .attr('width', originalSize.width * 2)\n        .attr('height', originalSize.height * 2)\n        .attr('x', originalPos.x - originalSize.width / 2)\n        .attr('y', originalPos.y - originalSize.height / 2);\n    }).on('mouseout', function () {\n      if (rect.attr('id') === 'rect1') return;\n\n      clearTimeout(hoverTimeout);\n      hideInfoPanel();\n\n      rect.transition()\n        .duration(200)\n        .attr('width', originalSize.width)\n        .attr('height', originalSize.height)\n        .attr('x', originalPos.x)\n        .attr('y', originalPos.y)\n        .attr('fill-opacity', 0.8);\n    });\n  });\n};\n\nconst showInfoPanel = (rect) => {\n  const infoPanel = d3.select('#info-panel');\n  const systemId = rect.attr('id');\n  const systemName = `System ${systemId}`;\n  const planetList = 'PlanetA, PlanetB, PlanetC';\n\n  infoPanel\n    .style('display', 'block')\n    .style('left', `${d3.event.pageX + 10}px`)\n    .style('top', `${d3.event.pageY + 10}px`)\n    .html(`\n      <strong>System name:</strong> ${systemName}<br/>\n      <strong>Planet list:</strong> ${planetList}\n    `);\n};\n\nconst hideInfoPanel = () => {\n  d3.select('#info-panel').style('display', 'none');\n};\n"],"mappings":"AAAA,OAAO,KAAKA,EAAE,MAAM,IAAI;AAExB,IAAIC,YAAY;AAEhB,OAAO,MAAMC,cAAc,GAAIC,CAAC,IAAK;EACnCA,CAAC,CAACC,SAAS,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,YAAY;IACnC,MAAMC,IAAI,GAAGN,EAAE,CAACO,MAAM,CAAC,IAAI,CAAC;IAC5B,MAAMC,YAAY,GAAG;MAAEC,KAAK,EAAE,CAACH,IAAI,CAACI,IAAI,CAAC,OAAO,CAAC;MAAEC,MAAM,EAAE,CAACL,IAAI,CAACI,IAAI,CAAC,QAAQ;IAAE,CAAC;IACjF,MAAME,WAAW,GAAG;MAAEC,CAAC,EAAE,CAACP,IAAI,CAACI,IAAI,CAAC,GAAG,CAAC;MAAEI,CAAC,EAAE,CAACR,IAAI,CAACI,IAAI,CAAC,GAAG;IAAE,CAAC;IAE9DJ,IAAI,CAACS,EAAE,CAAC,WAAW,EAAE,YAAY;MAC/B,IAAIT,IAAI,CAACI,IAAI,CAAC,IAAI,CAAC,KAAK,OAAO,EAAE;MAEjCT,YAAY,GAAGe,UAAU,CAAC,MAAM;QAC9BC,aAAa,CAACX,IAAI,CAAC;MACrB,CAAC,EAAE,IAAI,CAAC;MAERA,IAAI,CACDI,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CACvBA,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CACzBQ,UAAU,CAAC,CAAC,CACZC,QAAQ,CAAC,GAAG,CAAC,CACbT,IAAI,CAAC,OAAO,EAAEF,YAAY,CAACC,KAAK,GAAG,CAAC,CAAC,CACrCC,IAAI,CAAC,QAAQ,EAAEF,YAAY,CAACG,MAAM,GAAG,CAAC,CAAC,CACvCD,IAAI,CAAC,GAAG,EAAEE,WAAW,CAACC,CAAC,GAAGL,YAAY,CAACC,KAAK,GAAG,CAAC,CAAC,CACjDC,IAAI,CAAC,GAAG,EAAEE,WAAW,CAACE,CAAC,GAAGN,YAAY,CAACG,MAAM,GAAG,CAAC,CAAC;IACvD,CAAC,CAAC,CAACI,EAAE,CAAC,UAAU,EAAE,YAAY;MAC5B,IAAIT,IAAI,CAACI,IAAI,CAAC,IAAI,CAAC,KAAK,OAAO,EAAE;MAEjCU,YAAY,CAACnB,YAAY,CAAC;MAC1BoB,aAAa,CAAC,CAAC;MAEff,IAAI,CAACY,UAAU,CAAC,CAAC,CACdC,QAAQ,CAAC,GAAG,CAAC,CACbT,IAAI,CAAC,OAAO,EAAEF,YAAY,CAACC,KAAK,CAAC,CACjCC,IAAI,CAAC,QAAQ,EAAEF,YAAY,CAACG,MAAM,CAAC,CACnCD,IAAI,CAAC,GAAG,EAAEE,WAAW,CAACC,CAAC,CAAC,CACxBH,IAAI,CAAC,GAAG,EAAEE,WAAW,CAACE,CAAC,CAAC,CACxBJ,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC;IAC9B,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,MAAMO,aAAa,GAAIX,IAAI,IAAK;EAC9B,MAAMgB,SAAS,GAAGtB,EAAE,CAACO,MAAM,CAAC,aAAa,CAAC;EAC1C,MAAMgB,QAAQ,GAAGjB,IAAI,CAACI,IAAI,CAAC,IAAI,CAAC;EAChC,MAAMc,UAAU,GAAG,UAAUD,QAAQ,EAAE;EACvC,MAAME,UAAU,GAAG,2BAA2B;EAE9CH,SAAS,CACNI,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC,CACzBA,KAAK,CAAC,MAAM,EAAE,GAAG1B,EAAE,CAAC2B,KAAK,CAACC,KAAK,GAAG,EAAE,IAAI,CAAC,CACzCF,KAAK,CAAC,KAAK,EAAE,GAAG1B,EAAE,CAAC2B,KAAK,CAACE,KAAK,GAAG,EAAE,IAAI,CAAC,CACxCC,IAAI,CAAC;AACV,sCAAsCN,UAAU;AAChD,sCAAsCC,UAAU;AAChD,KAAK,CAAC;AACN,CAAC;AAED,MAAMJ,aAAa,GAAGA,CAAA,KAAM;EAC1BrB,EAAE,CAACO,MAAM,CAAC,aAAa,CAAC,CAACmB,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC;AACnD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}