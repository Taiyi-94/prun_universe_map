{"ast":null,"code":"var _jsxFileName = \"/home/admin_user/PycharmProjects/StarMap_PrUn/prun-universe-map/src/components/UniverseMap.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useContext } from 'react';\nimport * as d3 from 'd3';\nimport { useGraphContext } from '../contexts/GraphContext';\nimport { addMouseEvents } from '../utils/svgUtils';\nimport './UniverseMap.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UniverseMap = () => {\n  _s();\n  const {\n    nodes,\n    edges\n  } = useGraphContext();\n  useEffect(() => {\n    if (Object.keys(nodes).length === 0 && edges.length === 0) {\n      return; // Graph data is not yet loaded\n    }\n    const svgNode = d3.select('#map-container svg');\n\n    // Add mouse events\n    addMouseEvents(svgNode);\n\n    // Add click event to systems (assuming they are rect elements)\n    svgNode.selectAll('rect').on('click', function () {\n      const systemId = d3.select(this).attr('id').replace('#', '');\n      if (systemId === 'rect1') {\n        return;\n      }\n      setSelectedSystems(prev => {\n        const newSelection = [...prev, systemId];\n        if (newSelection.length === 2) {\n          findShortestPath(newSelection[0], newSelection[1]);\n          return [];\n        }\n        return newSelection;\n      });\n    });\n  }, [nodes, edges]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 10\n  }, this);\n};\n_s(UniverseMap, \"p/QIhvdmXsql83WTZv64dKBx9/g=\", false, function () {\n  return [useGraphContext];\n});\n_c = UniverseMap;\nexport default UniverseMap;\nvar _c;\n$RefreshReg$(_c, \"UniverseMap\");","map":{"version":3,"names":["React","useEffect","useContext","d3","useGraphContext","addMouseEvents","jsxDEV","_jsxDEV","UniverseMap","_s","nodes","edges","Object","keys","length","svgNode","select","selectAll","on","systemId","attr","replace","setSelectedSystems","prev","newSelection","findShortestPath","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/admin_user/PycharmProjects/StarMap_PrUn/prun-universe-map/src/components/UniverseMap.jsx"],"sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport * as d3 from 'd3';\nimport { useGraphContext } from '../contexts/GraphContext';\nimport { addMouseEvents } from '../utils/svgUtils';\nimport './UniverseMap.css';\n\nconst UniverseMap = () => {\n  const { nodes, edges } = useGraphContext();\n\n  useEffect(() => {\n    if (Object.keys(nodes).length === 0 && edges.length === 0) {\n      return; // Graph data is not yet loaded\n    }\n\n    const svgNode = d3.select('#map-container svg');\n\n    // Add mouse events\n    addMouseEvents(svgNode);\n\n    // Add click event to systems (assuming they are rect elements)\n    svgNode.selectAll('rect').on('click', function() {\n      const systemId = d3.select(this).attr('id').replace('#', '');\n      if (systemId === 'rect1') {\n        return;\n      }\n      setSelectedSystems(prev => {\n        const newSelection = [...prev, systemId];\n        if (newSelection.length === 2) {\n          findShortestPath(newSelection[0], newSelection[1]);\n          return [];\n        }\n        return newSelection;\n      });\n    });\n  }, [nodes, edges]);\n\n  return <div id=\"map-container\"></div>;\n};\n\nexport default UniverseMap;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACpD,OAAO,KAAKC,EAAE,MAAM,IAAI;AACxB,SAASC,eAAe,QAAQ,0BAA0B;AAC1D,SAASC,cAAc,QAAQ,mBAAmB;AAClD,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC,KAAK;IAAEC;EAAM,CAAC,GAAGP,eAAe,CAAC,CAAC;EAE1CH,SAAS,CAAC,MAAM;IACd,IAAIW,MAAM,CAACC,IAAI,CAACH,KAAK,CAAC,CAACI,MAAM,KAAK,CAAC,IAAIH,KAAK,CAACG,MAAM,KAAK,CAAC,EAAE;MACzD,OAAO,CAAC;IACV;IAEA,MAAMC,OAAO,GAAGZ,EAAE,CAACa,MAAM,CAAC,oBAAoB,CAAC;;IAE/C;IACAX,cAAc,CAACU,OAAO,CAAC;;IAEvB;IACAA,OAAO,CAACE,SAAS,CAAC,MAAM,CAAC,CAACC,EAAE,CAAC,OAAO,EAAE,YAAW;MAC/C,MAAMC,QAAQ,GAAGhB,EAAE,CAACa,MAAM,CAAC,IAAI,CAAC,CAACI,IAAI,CAAC,IAAI,CAAC,CAACC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;MAC5D,IAAIF,QAAQ,KAAK,OAAO,EAAE;QACxB;MACF;MACAG,kBAAkB,CAACC,IAAI,IAAI;QACzB,MAAMC,YAAY,GAAG,CAAC,GAAGD,IAAI,EAAEJ,QAAQ,CAAC;QACxC,IAAIK,YAAY,CAACV,MAAM,KAAK,CAAC,EAAE;UAC7BW,gBAAgB,CAACD,YAAY,CAAC,CAAC,CAAC,EAAEA,YAAY,CAAC,CAAC,CAAC,CAAC;UAClD,OAAO,EAAE;QACX;QACA,OAAOA,YAAY;MACrB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,EAAE,CAACd,KAAK,EAAEC,KAAK,CAAC,CAAC;EAElB,oBAAOJ,OAAA;IAAKmB,EAAE,EAAC;EAAe;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AACvC,CAAC;AAACrB,EAAA,CA/BID,WAAW;EAAA,QACUJ,eAAe;AAAA;AAAA2B,EAAA,GADpCvB,WAAW;AAiCjB,eAAeA,WAAW;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}