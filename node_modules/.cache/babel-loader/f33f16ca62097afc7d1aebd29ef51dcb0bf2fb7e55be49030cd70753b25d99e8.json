{"ast":null,"code":"import * as d3 from 'd3';\nimport { colors } from '../config/config';\n\n// Function to normalize the style attribute\nexport const normalizeElementStyles = element => {\n  const style = element.attrib.get('style', '');\n  const styleDict = Object.fromEntries(style.split(';').filter(Boolean).map(item => item.split(':').map(str => str.trim())));\n  for (const [key, value] of Object.entries(styleDict)) {\n    element.setAttribute(key, value);\n  }\n  element.removeAttribute('style');\n};\n\n// Function to create and show the info panel\nconst showInfoPanel = (rect, x, y) => {\n  const systemName = rect.attr('id').replace('#', '');\n  const infoPanel = d3.select('body').append('div').attr('class', 'info-panel').style('left', `${x}px`).style('top', `${y}px`).style('display', 'block');\n  infoPanel.html(`\n    <h3>System name: ${systemName}</h3>\n    <p>Planet list: PlanetA, PlanetB, PlanetC</p>\n  `);\n};\n\n// Function to hide the info panel\nconst hideInfoPanel = () => {\n  d3.select('.info-panel').remove();\n};\n\n// Function to add mouseover and mouseout events for animation\nexport const addMouseEvents = g => {\n  g.selectAll('rect').each(function () {\n    const rect = d3.select(this);\n    const originalSize = {\n      width: +rect.attr('width'),\n      height: +rect.attr('height')\n    };\n    const originalPos = {\n      x: +rect.attr('x'),\n      y: +rect.attr('y')\n    };\n    let hoverTimer;\n    rect.on('mouseover', function (event) {\n      if (rect.attr('id') === 'rect1') return;\n      rect.attr('fill-opacity', 1).attr('stroke-opacity', 1).transition().duration(200).attr('width', originalSize.width * 2).attr('height', originalSize.height * 2).attr('x', originalPos.x - originalSize.width / 2).attr('y', originalPos.y - originalSize.height / 2);\n\n      // Set timer for info panel\n      hoverTimer = setTimeout(() => {\n        const [x, y] = d3.pointer(event);\n        showInfoPanel(rect, x, y);\n      }, 400);\n    }).on('mouseout', function () {\n      if (rect.attr('id') === 'rect1') return;\n      rect.transition().duration(200).attr('width', originalSize.width).attr('height', originalSize.height).attr('x', originalPos.x).attr('y', originalPos.y).attr('fill-opacity', colors.resetSystemFillOpacity);\n\n      // Clear timer and hide info panel\n      clearTimeout(hoverTimer);\n      hideInfoPanel();\n    });\n  });\n};","map":{"version":3,"names":["d3","colors","normalizeElementStyles","element","style","attrib","get","styleDict","Object","fromEntries","split","filter","Boolean","map","item","str","trim","key","value","entries","setAttribute","removeAttribute","showInfoPanel","rect","x","y","systemName","attr","replace","infoPanel","select","append","html","hideInfoPanel","remove","addMouseEvents","g","selectAll","each","originalSize","width","height","originalPos","hoverTimer","on","event","transition","duration","setTimeout","pointer","resetSystemFillOpacity","clearTimeout"],"sources":["/home/admin_user/PycharmProjects/StarMap_PrUn/prun-universe-map/src/utils/svgUtils.js"],"sourcesContent":["import * as d3 from 'd3';\nimport { colors } from '../config/config';\n\n// Function to normalize the style attribute\nexport const normalizeElementStyles = (element) => {\n  const style = element.attrib.get('style', '');\n  const styleDict = Object.fromEntries(style.split(';').filter(Boolean).map(item => item.split(':').map(str => str.trim())));\n\n  for (const [key, value] of Object.entries(styleDict)) {\n    element.setAttribute(key, value);\n  }\n\n  element.removeAttribute('style');\n};\n\n// Function to create and show the info panel\nconst showInfoPanel = (rect, x, y) => {\n  const systemName = rect.attr('id').replace('#', '');\n  const infoPanel = d3.select('body').append('div')\n    .attr('class', 'info-panel')\n    .style('left', `${x}px`)\n    .style('top', `${y}px`)\n    .style('display', 'block');\n\n  infoPanel.html(`\n    <h3>System name: ${systemName}</h3>\n    <p>Planet list: PlanetA, PlanetB, PlanetC</p>\n  `);\n};\n\n// Function to hide the info panel\nconst hideInfoPanel = () => {\n  d3.select('.info-panel').remove();\n};\n\n// Function to add mouseover and mouseout events for animation\nexport const addMouseEvents = (g) => {\n  g.selectAll('rect').each(function() {\n    const rect = d3.select(this);\n    const originalSize = { width: +rect.attr('width'), height: +rect.attr('height') };\n    const originalPos = { x: +rect.attr('x'), y: +rect.attr('y') };\n    let hoverTimer;\n\n    rect.on('mouseover', function(event) {\n      if (rect.attr('id') === 'rect1') return;\n      rect\n        .attr('fill-opacity', 1)\n        .attr('stroke-opacity', 1)\n        .transition()\n        .duration(200)\n        .attr('width', originalSize.width * 2)\n        .attr('height', originalSize.height * 2)\n        .attr('x', originalPos.x - originalSize.width / 2)\n        .attr('y', originalPos.y - originalSize.height / 2);\n\n      // Set timer for info panel\n      hoverTimer = setTimeout(() => {\n        const [x, y] = d3.pointer(event);\n        showInfoPanel(rect, x, y);\n      }, 400);\n\n    }).on('mouseout', function() {\n      if (rect.attr('id') === 'rect1') return;\n      rect.transition()\n        .duration(200)\n        .attr('width', originalSize.width)\n        .attr('height', originalSize.height)\n        .attr('x', originalPos.x)\n        .attr('y', originalPos.y)\n        .attr('fill-opacity', colors.resetSystemFillOpacity);\n\n      // Clear timer and hide info panel\n      clearTimeout(hoverTimer);\n      hideInfoPanel();\n    });\n  });\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}